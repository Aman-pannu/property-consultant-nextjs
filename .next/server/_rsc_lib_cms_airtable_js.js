"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_cms_airtable_js";
exports.ids = ["_rsc_lib_cms_airtable_js"];
exports.modules = {

/***/ "(rsc)/./lib/cms/airtable.js":
/*!*****************************!*\
  !*** ./lib/cms/airtable.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getListings: () => (/* binding */ getListings)\n/* harmony export */ });\nasync function getListings({ limit = 6, suburb } = {}) {\n    const key = process.env.AIRTABLE_API_KEY;\n    const base = process.env.AIRTABLE_BASE_ID;\n    const table = process.env.AIRTABLE_TABLE_NAME || \"Listings\";\n    if (!key || !base) return [];\n    const url = `https://api.airtable.com/v0/${base}/${encodeURIComponent(table)}?maxRecords=${limit}&view=Grid%20view`;\n    const res = await fetch(url, {\n        headers: {\n            Authorization: `Bearer ${key}`\n        },\n        cache: \"no-store\"\n    });\n    const json = await res.json();\n    let items = (json.records || []).map((r)=>({\n            id: r.id,\n            title: r.fields.title || \"Untitled\",\n            meta: r.fields.meta || \"\",\n            image: r.fields.image?.[0]?.url || \"\",\n            badges: r.fields.badges || [],\n            suburb: r.fields.suburb || \"\"\n        }));\n    if (suburb) items = items.filter((i)=>(i.suburb || \"\").toLowerCase().includes(suburb.toLowerCase()));\n    return items;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY21zL2FpcnRhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxlQUFlQSxZQUFZLEVBQUVDLFFBQVEsQ0FBQyxFQUFFQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDMUQsTUFBTUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxnQkFBZ0I7SUFDeEMsTUFBTUMsT0FBT0gsUUFBUUMsR0FBRyxDQUFDRyxnQkFBZ0I7SUFDekMsTUFBTUMsUUFBUUwsUUFBUUMsR0FBRyxDQUFDSyxtQkFBbUIsSUFBSTtJQUNqRCxJQUFHLENBQUNQLE9BQU8sQ0FBQ0ksTUFBTSxPQUFPLEVBQUU7SUFDM0IsTUFBTUksTUFBTSxDQUFDLDRCQUE0QixFQUFFSixLQUFLLENBQUMsRUFBRUssbUJBQW1CSCxPQUFPLFlBQVksRUFBRVIsTUFBTSxpQkFBaUIsQ0FBQztJQUNuSCxNQUFNWSxNQUFNLE1BQU1DLE1BQU1ILEtBQUs7UUFBRUksU0FBUztZQUFFQyxlQUFlLENBQUMsT0FBTyxFQUFFYixJQUFJLENBQUM7UUFBQztRQUFHYyxPQUFPO0lBQVc7SUFDOUYsTUFBTUMsT0FBTyxNQUFNTCxJQUFJSyxJQUFJO0lBQzNCLElBQUlDLFFBQVEsQ0FBQ0QsS0FBS0UsT0FBTyxJQUFJLEVBQUUsRUFBRUMsR0FBRyxDQUFDQyxDQUFBQSxJQUFNO1lBQ3pDQyxJQUFJRCxFQUFFQyxFQUFFO1lBQ1JDLE9BQU9GLEVBQUVHLE1BQU0sQ0FBQ0QsS0FBSyxJQUFJO1lBQ3pCRSxNQUFNSixFQUFFRyxNQUFNLENBQUNDLElBQUksSUFBSTtZQUN2QkMsT0FBT0wsRUFBRUcsTUFBTSxDQUFDRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUVoQixPQUFPO1lBQ25DaUIsUUFBUU4sRUFBRUcsTUFBTSxDQUFDRyxNQUFNLElBQUksRUFBRTtZQUM3QjFCLFFBQVFvQixFQUFFRyxNQUFNLENBQUN2QixNQUFNLElBQUk7UUFDN0I7SUFDQSxJQUFHQSxRQUFRaUIsUUFBUUEsTUFBTVUsTUFBTSxDQUFDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUU1QixNQUFNLElBQUUsRUFBQyxFQUFHNkIsV0FBVyxHQUFHQyxRQUFRLENBQUM5QixPQUFPNkIsV0FBVztJQUM3RixPQUFPWjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvcGVydHktY29uc3VsdGFudC8uL2xpYi9jbXMvYWlydGFibGUuanM/OTU0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGlzdGluZ3MoeyBsaW1pdCA9IDYsIHN1YnVyYiB9ID0ge30pe1xuICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5BSVJUQUJMRV9BUElfS0VZXG4gIGNvbnN0IGJhc2UgPSBwcm9jZXNzLmVudi5BSVJUQUJMRV9CQVNFX0lEXG4gIGNvbnN0IHRhYmxlID0gcHJvY2Vzcy5lbnYuQUlSVEFCTEVfVEFCTEVfTkFNRSB8fCAnTGlzdGluZ3MnXG4gIGlmKCFrZXkgfHwgIWJhc2UpIHJldHVybiBbXVxuICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkuYWlydGFibGUuY29tL3YwLyR7YmFzZX0vJHtlbmNvZGVVUklDb21wb25lbnQodGFibGUpfT9tYXhSZWNvcmRzPSR7bGltaXR9JnZpZXc9R3JpZCUyMHZpZXdgXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtrZXl9YCB9LCBjYWNoZTogJ25vLXN0b3JlJyB9KVxuICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKVxuICBsZXQgaXRlbXMgPSAoanNvbi5yZWNvcmRzIHx8IFtdKS5tYXAociA9PiAoe1xuICAgIGlkOiByLmlkLFxuICAgIHRpdGxlOiByLmZpZWxkcy50aXRsZSB8fCAnVW50aXRsZWQnLFxuICAgIG1ldGE6IHIuZmllbGRzLm1ldGEgfHwgJycsXG4gICAgaW1hZ2U6IHIuZmllbGRzLmltYWdlPy5bMF0/LnVybCB8fCAnJyxcbiAgICBiYWRnZXM6IHIuZmllbGRzLmJhZGdlcyB8fCBbXSxcbiAgICBzdWJ1cmI6IHIuZmllbGRzLnN1YnVyYiB8fCAnJ1xuICB9KSlcbiAgaWYoc3VidXJiKSBpdGVtcyA9IGl0ZW1zLmZpbHRlcihpID0+IChpLnN1YnVyYnx8JycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc3VidXJiLnRvTG93ZXJDYXNlKCkpKVxuICByZXR1cm4gaXRlbXNcbn1cbiJdLCJuYW1lcyI6WyJnZXRMaXN0aW5ncyIsImxpbWl0Iiwic3VidXJiIiwia2V5IiwicHJvY2VzcyIsImVudiIsIkFJUlRBQkxFX0FQSV9LRVkiLCJiYXNlIiwiQUlSVEFCTEVfQkFTRV9JRCIsInRhYmxlIiwiQUlSVEFCTEVfVEFCTEVfTkFNRSIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJjYWNoZSIsImpzb24iLCJpdGVtcyIsInJlY29yZHMiLCJtYXAiLCJyIiwiaWQiLCJ0aXRsZSIsImZpZWxkcyIsIm1ldGEiLCJpbWFnZSIsImJhZGdlcyIsImZpbHRlciIsImkiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/cms/airtable.js\n");

/***/ })

};
;