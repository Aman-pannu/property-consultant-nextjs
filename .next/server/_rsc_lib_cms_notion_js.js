"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_cms_notion_js";
exports.ids = ["_rsc_lib_cms_notion_js"];
exports.modules = {

/***/ "(rsc)/./lib/cms/notion.js":
/*!***************************!*\
  !*** ./lib/cms/notion.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getListings: () => (/* binding */ getListings)\n/* harmony export */ });\nasync function getListings({ limit = 6, suburb } = {}) {\n    const token = process.env.NOTION_TOKEN;\n    const db = process.env.NOTION_DB_ID;\n    if (!token || !db) return [];\n    const body = {\n        page_size: limit,\n        filter: suburb ? {\n            property: \"suburb\",\n            rich_text: {\n                contains: suburb\n            }\n        } : undefined\n    };\n    const res = await fetch(`https://api.notion.com/v1/databases/${db}/query`, {\n        method: \"POST\",\n        headers: {\n            \"Authorization\": `Bearer ${token}`,\n            \"Notion-Version\": \"2022-06-28\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body),\n        cache: \"no-store\"\n    });\n    const json = await res.json();\n    const items = (json.results || []).map((p)=>({\n            id: p.id,\n            title: p.properties?.title?.title?.[0]?.plain_text || \"Untitled\",\n            meta: p.properties?.meta?.rich_text?.[0]?.plain_text || \"\",\n            image: \"\",\n            badges: [],\n            suburb: p.properties?.suburb?.rich_text?.[0]?.plain_text || \"\"\n        }));\n    return items;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY21zL25vdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sZUFBZUEsWUFBWSxFQUFFQyxRQUFRLENBQUMsRUFBRUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzFELE1BQU1DLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtJQUN0QyxNQUFNQyxLQUFLSCxRQUFRQyxHQUFHLENBQUNHLFlBQVk7SUFDbkMsSUFBRyxDQUFDTCxTQUFTLENBQUNJLElBQUksT0FBTyxFQUFFO0lBQzNCLE1BQU1FLE9BQU87UUFDWEMsV0FBV1Q7UUFDWFUsUUFBUVQsU0FBUztZQUFFVSxVQUFVO1lBQVVDLFdBQVc7Z0JBQUVDLFVBQVVaO1lBQU87UUFBRSxJQUFJYTtJQUM3RTtJQUNBLE1BQU1DLE1BQU0sTUFBTUMsTUFBTSxDQUFDLG9DQUFvQyxFQUFFVixHQUFHLE1BQU0sQ0FBQyxFQUFFO1FBQ3pFVyxRQUFPO1FBQ1BDLFNBQVM7WUFDUCxpQkFBaUIsQ0FBQyxPQUFPLEVBQUVoQixNQUFNLENBQUM7WUFDbEMsa0JBQWtCO1lBQ2xCLGdCQUFnQjtRQUNsQjtRQUNBTSxNQUFNVyxLQUFLQyxTQUFTLENBQUNaO1FBQ3JCYSxPQUFPO0lBQ1Q7SUFDQSxNQUFNQyxPQUFPLE1BQU1QLElBQUlPLElBQUk7SUFDM0IsTUFBTUMsUUFBUSxDQUFDRCxLQUFLRSxPQUFPLElBQUksRUFBRSxFQUFFQyxHQUFHLENBQUNDLENBQUFBLElBQU07WUFDM0NDLElBQUlELEVBQUVDLEVBQUU7WUFDUkMsT0FBT0YsRUFBRUcsVUFBVSxFQUFFRCxPQUFPQSxPQUFPLENBQUMsRUFBRSxFQUFFRSxjQUFjO1lBQ3REQyxNQUFNTCxFQUFFRyxVQUFVLEVBQUVFLE1BQU1uQixXQUFXLENBQUMsRUFBRSxFQUFFa0IsY0FBYztZQUN4REUsT0FBTztZQUNQQyxRQUFRLEVBQUU7WUFDVmhDLFFBQVF5QixFQUFFRyxVQUFVLEVBQUU1QixRQUFRVyxXQUFXLENBQUMsRUFBRSxFQUFFa0IsY0FBYztRQUM5RDtJQUNBLE9BQU9QO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9wZXJ0eS1jb25zdWx0YW50Ly4vbGliL2Ntcy9ub3Rpb24uanM/MTQxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGlzdGluZ3MoeyBsaW1pdCA9IDYsIHN1YnVyYiB9ID0ge30pe1xuICBjb25zdCB0b2tlbiA9IHByb2Nlc3MuZW52Lk5PVElPTl9UT0tFTlxuICBjb25zdCBkYiA9IHByb2Nlc3MuZW52Lk5PVElPTl9EQl9JRFxuICBpZighdG9rZW4gfHwgIWRiKSByZXR1cm4gW11cbiAgY29uc3QgYm9keSA9IHtcbiAgICBwYWdlX3NpemU6IGxpbWl0LFxuICAgIGZpbHRlcjogc3VidXJiID8geyBwcm9wZXJ0eTogJ3N1YnVyYicsIHJpY2hfdGV4dDogeyBjb250YWluczogc3VidXJiIH0gfSA6IHVuZGVmaW5lZFxuICB9XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5ub3Rpb24uY29tL3YxL2RhdGFiYXNlcy8ke2RifS9xdWVyeWAsIHtcbiAgICBtZXRob2Q6J1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAnTm90aW9uLVZlcnNpb24nOiAnMjAyMi0wNi0yOCcsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBjYWNoZTogJ25vLXN0b3JlJ1xuICB9KVxuICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKVxuICBjb25zdCBpdGVtcyA9IChqc29uLnJlc3VsdHMgfHwgW10pLm1hcChwID0+ICh7XG4gICAgaWQ6IHAuaWQsXG4gICAgdGl0bGU6IHAucHJvcGVydGllcz8udGl0bGU/LnRpdGxlPy5bMF0/LnBsYWluX3RleHQgfHwgJ1VudGl0bGVkJyxcbiAgICBtZXRhOiBwLnByb3BlcnRpZXM/Lm1ldGE/LnJpY2hfdGV4dD8uWzBdPy5wbGFpbl90ZXh0IHx8ICcnLFxuICAgIGltYWdlOiAnJywgLy8gYWRkIGEgY292ZXIgbWFwcGluZyBpZiB5b3VyIERCIGhhcyBpdFxuICAgIGJhZGdlczogW10sXG4gICAgc3VidXJiOiBwLnByb3BlcnRpZXM/LnN1YnVyYj8ucmljaF90ZXh0Py5bMF0/LnBsYWluX3RleHQgfHwgJydcbiAgfSkpXG4gIHJldHVybiBpdGVtc1xufVxuIl0sIm5hbWVzIjpbImdldExpc3RpbmdzIiwibGltaXQiLCJzdWJ1cmIiLCJ0b2tlbiIsInByb2Nlc3MiLCJlbnYiLCJOT1RJT05fVE9LRU4iLCJkYiIsIk5PVElPTl9EQl9JRCIsImJvZHkiLCJwYWdlX3NpemUiLCJmaWx0ZXIiLCJwcm9wZXJ0eSIsInJpY2hfdGV4dCIsImNvbnRhaW5zIiwidW5kZWZpbmVkIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImNhY2hlIiwianNvbiIsIml0ZW1zIiwicmVzdWx0cyIsIm1hcCIsInAiLCJpZCIsInRpdGxlIiwicHJvcGVydGllcyIsInBsYWluX3RleHQiLCJtZXRhIiwiaW1hZ2UiLCJiYWRnZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/cms/notion.js\n");

/***/ })

};
;